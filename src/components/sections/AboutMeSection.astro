---
import Card from '../ui/Card.astro';
import Button from '../ui/Button.astro';
import Tag from '../ui/Tag.astro';
import Badge from '../ui/Badge.astro';

export interface AboutStats {
  number: string;
  label: string;
  description?: string;
}

export interface AboutHighlight {
  icon: string;
  title: string;
  description: string;
}

export interface Props {
  title?: string;
  subtitle?: string;
  mainDescription?: string;
  profileImage?: string;
  stats?: AboutStats[];
  highlights?: AboutHighlight[];
  personalInfo?: {
    location?: string;
    email?: string;
    availability?: string;
    languages?: string[];
    interests?: string[];
  };
  showPersonalDetails?: boolean;
  class?: string;
}

const {
  title = "í’€ìŠ¤íƒ ê°œë°œì ê¹€ê°œë°œ ì†Œê°œ",
  subtitle = "About Developer",
  mainDescription = "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” React, Node.js, TypeScriptë¥¼ í™œìš©í•œ ì‚¬ìš©ì ê²½í—˜ê³¼ ê¸°ìˆ ì  ìš°ìˆ˜ì„±ì„ ëª¨ë‘ ì¶”êµ¬í•˜ëŠ” 5ë…„ ê²½ë ¥ í’€ìŠ¤íƒ ê°œë°œìì…ë‹ˆë‹¤. ìµœì‹  ì›¹ ê¸°ìˆ ì„ ë°°ìš°ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ë©°, ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œë¥¼ ì°½ì˜ì ì¸ ì›¹ ì†”ë£¨ì…˜ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë° ì—´ì •ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
  stats = [],
  highlights = [],
  personalInfo = {},
  showPersonalDetails = true,
  class: className = "",
} = Astro.props;

// Default stats
const defaultStats: AboutStats[] = [
  { number: "3+", label: "Years", description: "ê°œë°œ ê²½í—˜" },
  { number: "50+", label: "Projects", description: "ì™„ë£Œí•œ í”„ë¡œì íŠ¸" },
  { number: "15+", label: "Technologies", description: "ì‚¬ìš© ê¸°ìˆ " },
  { number: "âˆ", label: "Coffee", description: "ë§ˆì‹  ì»¤í”¼ ì” ìˆ˜" }
];

// Default highlights
const defaultHighlights: AboutHighlight[] = [
  {
    icon: "ğŸ’¡",
    title: "ì°½ì˜ì  ë¬¸ì œ í•´ê²°",
    description: "ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì„ íš¨ìœ¨ì ì´ê³  ìš°ì•„í•œ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤."
  },
  {
    icon: "ğŸŒ±",
    title: "ì§€ì†ì ì¸ í•™ìŠµ",
    description: "ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” ê¸°ìˆ  í™˜ê²½ì—ì„œ í•­ìƒ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë”°ë¼ê°€ë©° ì„±ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤."
  },
  {
    icon: "ğŸ¤",
    title: "í˜‘ì—…ê³¼ ì†Œí†µ",
    description: "íŒ€ì›Œí¬ë¥¼ ì¤‘ì‹œí•˜ë©°, ëª…í™•í•œ ì†Œí†µì„ í†µí•´ í”„ë¡œì íŠ¸ì˜ ì„±ê³µì„ ì´ëŒì–´ëƒ…ë‹ˆë‹¤."
  },
  {
    icon: "âš¡",
    title: "ì„±ëŠ¥ ìµœì í™”",
    description: "ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•´ í•­ìƒ ì„±ëŠ¥ê³¼ ì ‘ê·¼ì„±ì„ ê³ ë ¤í•˜ì—¬ ê°œë°œí•©ë‹ˆë‹¤."
  }
];

// Default personal info
const defaultPersonalInfo = {
  location: "ëŒ€í•œë¯¼êµ­, ì„œìš¸",
  email: "contact@example.com",
  availability: "í”„ë¦¬ëœìŠ¤/ì •ê·œì§ ê°€ëŠ¥",
  languages: ["í•œêµ­ì–´ (Native)", "English (Business)", "æ—¥æœ¬èª (Basic)"],
  interests: ["ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬", "ê¸°ìˆ  ë¸”ë¡œê·¸ ì‘ì„±", "ì‚¬ì§„", "ì—¬í–‰", "ë…ì„œ"]
};

const displayStats = stats.length > 0 ? stats : defaultStats;
const displayHighlights = highlights.length > 0 ? highlights : defaultHighlights;
const displayPersonalInfo = { ...defaultPersonalInfo, ...personalInfo };
---

<section 
  class={`py-20 bg-gray-50 dark:bg-gray-800 ${className}`}
  aria-label="ê°œë°œì ì†Œê°œ ì„¹ì…˜"
  role="region"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4">
        {title}
        <span class="block text-lg sm:text-xl font-normal text-blue-600 dark:text-blue-400 mt-2">
          {subtitle}
        </span>
      </h2>
    </div>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-20">
      <!-- Profile Image and Info -->
      <div class="relative">
        <div class="relative mx-auto lg:mx-0 w-80 h-80 lg:w-96 lg:h-96">
          <!-- Profile Image Container -->
          <div class="relative w-full h-full rounded-2xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 p-1 shadow-2xl">
            <div class="w-full h-full rounded-2xl overflow-hidden bg-white dark:bg-gray-900">
              <!-- Placeholder for profile image -->
              <div class="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center">
                <svg class="w-32 h-32 text-gray-400 dark:text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
              </div>
            </div>
          </div>

          <!-- Floating Elements -->
          <div class="absolute -top-4 -right-4 w-16 h-16 bg-yellow-400 rounded-lg rotate-12 shadow-lg opacity-80 animate-float flex items-center justify-center text-2xl">
            âš¡
          </div>
          <div class="absolute -bottom-4 -left-4 w-16 h-16 bg-pink-400 rounded-lg -rotate-12 shadow-lg opacity-80 animate-float animation-delay-1000 flex items-center justify-center text-2xl">
            ğŸ’»
          </div>
          <div class="absolute top-1/3 -left-8 w-12 h-12 bg-green-400 rounded-full shadow-lg opacity-80 animate-float animation-delay-2000 flex items-center justify-center text-lg">
            ğŸš€
          </div>
        </div>

        <!-- Stats Cards (Mobile) -->
        <div class="grid grid-cols-2 gap-4 mt-8 lg:hidden">
          {displayStats.map((stat) => (
            <Card variant="bordered" class="text-center p-4">
              <div class="text-2xl font-bold text-blue-600 dark:text-blue-400">{stat.number}</div>
              <div class="text-sm font-medium text-gray-900 dark:text-white">{stat.label}</div>
              {stat.description && (
                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">{stat.description}</div>
              )}
            </Card>
          ))}
        </div>
      </div>

      <!-- Content -->
      <div class="space-y-8">
        <!-- Main Description -->
        <div class="space-y-6">
          <p class="text-lg text-gray-600 dark:text-gray-400 leading-relaxed">
            {mainDescription}
          </p>
          
          <div class="space-y-4">
            <p class="text-gray-600 dark:text-gray-400">
              ì €ëŠ” <span class="font-semibold text-blue-600 dark:text-blue-400">ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì‚¬ê³ </span>ë¡œ 
              ê¸°ìˆ ì ì¸ ë³µì¡ì„±ì„ ë‹¨ìˆœí•˜ê³  ì§ê´€ì ì¸ ê²½í—˜ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
            </p>
            <p class="text-gray-600 dark:text-gray-400">
              ì½”ë“œì˜ í’ˆì§ˆê³¼ ì„±ëŠ¥ì„ ì¤‘ì‹œí•˜ë©°, í•­ìƒ <span class="font-semibold text-purple-600 dark:text-purple-400">ë” ë‚˜ì€ ì†”ë£¨ì…˜</span>ì„ 
              ì°¾ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <!-- Personal Details -->
        {showPersonalDetails && (
          <div class="space-y-6">
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">ê°œì¸ ì •ë³´</h3>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="space-y-2">
                <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-400">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  <span class="text-sm">{displayPersonalInfo.location}</span>
                </div>
                
                <div class="flex items-center space-x-2 text-gray-600 dark:text-gray-400">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                  <span class="text-sm">{displayPersonalInfo.email}</span>
                </div>
              </div>

              <div class="space-y-2">
                <div class="flex items-center space-x-2">
                  <Badge variant="filled" size="sm">
                    {displayPersonalInfo.availability}
                  </Badge>
                </div>
              </div>
            </div>

            <!-- Languages -->
            {displayPersonalInfo.languages && displayPersonalInfo.languages.length > 0 && (
              <div class="space-y-3">
                <h4 class="text-lg font-medium text-gray-900 dark:text-white">ì–¸ì–´</h4>
                <div class="flex flex-wrap gap-2">
                  {displayPersonalInfo.languages.map(language => (
                    <Tag variant="outline" size="sm" color="blue">
                      {language}
                    </Tag>
                  ))}
                </div>
              </div>
            )}

            <!-- Interests -->
            {displayPersonalInfo.interests && displayPersonalInfo.interests.length > 0 && (
              <div class="space-y-3">
                <h4 class="text-lg font-medium text-gray-900 dark:text-white">ê´€ì‹¬ì‚¬</h4>
                <div class="flex flex-wrap gap-2">
                  {displayPersonalInfo.interests.map(interest => (
                    <Tag variant="ghost" size="sm" color="purple">
                      {interest}
                    </Tag>
                  ))}
                </div>
              </div>
            )}
          </div>
        )}

        <!-- Call to Action -->
        <div class="flex flex-col sm:flex-row gap-4 pt-6">
          <Button 
            href="/projects" 
            variant="primary" 
            size="md"
            class="inline-flex items-center"
          >
            í”„ë¡œì íŠ¸ ë³´ê¸°
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </Button>
          
          <Button 
            href="/contact" 
            variant="outline" 
            size="md"
            class="inline-flex items-center"
          >
            ì—°ë½í•˜ê¸°
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </Button>
        </div>
      </div>
    </div>

    <!-- Stats Grid (Desktop) -->
    <div class="hidden lg:grid grid-cols-2 xl:grid-cols-4 gap-6 mb-16">
      {displayStats.map((stat) => (
        <Card variant="bordered" class="text-center p-6 hover:shadow-lg transition-shadow duration-200">
          <div class="text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2">{stat.number}</div>
          <div class="text-sm font-medium text-gray-900 dark:text-white mb-1">{stat.label}</div>
          {stat.description && (
            <div class="text-xs text-gray-500 dark:text-gray-400">{stat.description}</div>
          )}
        </Card>
      ))}
    </div>

    <!-- Highlights Section -->
    <div class="space-y-8">
      <div class="text-center">
        <h3 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-4">
          ê°œë°œ ì² í•™ ë° ê°•ì 
        </h3>
        <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
          íš¨ìœ¨ì ì´ê³  ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì›¹ ì†”ë£¨ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•œ ì €ì˜ í•µì‹¬ ê°€ì¹˜ì™€ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {displayHighlights.map((highlight) => (
          <Card variant="bordered" class="p-6 hover:shadow-lg transition-all duration-200 hover:scale-[1.02]">
            <div class="flex items-start space-x-4">
              <div class="text-3xl flex-shrink-0" aria-hidden="true">{highlight.icon}</div>
              <div class="space-y-2">
                <h4 class="text-lg font-semibold text-gray-900 dark:text-white">
                  {highlight.title}
                </h4>
                <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                  {highlight.description}
                </p>
              </div>
            </div>
          </Card>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(10deg);
    }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animation-delay-1000 {
    animation-delay: 1s;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }
</style> 